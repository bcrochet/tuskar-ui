{% load i18n sizeformat %}
{% load url from future %}

<h3>{% trans "Rack Overview" %}</h3>

<div class="info row-fluid detail">
  <h4>{% trans "About" %}</h4>
  <hr class="header_rule">
  <dl>
    <dt>{% trans "Name" %}</dt>
    <dd>{{ rack.name|default:_("None") }}</dd>
    <dt>{% trans "ID" %}</dt>
    <dd>{{ rack.id|default:_("None") }}</dd>
  </dl>
  <h4>{% trans "Resource Assignment" %}</h4>
  <hr class="header_rule">
  <dl>
    <dt>{% trans "Name" %}</dt>
    <dd>{{ rack.name|default:_("None") }}</dd>
    <dt>{% trans "ID" %}</dt>
    <dd>{{ rack.id|default:_("None") }}</dd>
  </dl>
  <h4>{% trans "Capacities" %}</h4>
  <hr class="header_rule">
  <table class="capacities">
    <tr>
      <td class="capacity_label">{% trans "CPU" %}:</td>
      <td>
        <div id="cpu_capacity_usage"
             class="capacity_bar"
             data-capacity-limit="{{ 100 }}"
             data-capacity-used="{{ 100 }}"
             data-average-capacity-used="{{ 47 }}">
        </div>
      </td>
      <td>
        <a href="#" class="modal_chart">90/100 GHz</a>
      </td>
    </tr>
    <tr>
      <td class="capacity_label">{% trans "RAM" %}:</td>
      <td>
        <div id="ram_capacity_usage"
             class="capacity_bar"
             data-capacity-limit="{{ 100 }}"
             data-capacity-used="{{ 79 }}"
             data-average-capacity-used="{{ 47 }}">
        </div>
      </td>
      <td>
        <a href="#" class="modal_chart">90/100</a>
      </td>
    </tr>
    <tr>
      <td class="capacity_label">{% trans "Storage" %}:</td>
      <td>
        <div id="storage_capacity_usage"
             class="capacity_bar"
             data-capacity-limit="{{ 100 }}"
             data-capacity-used="{{ 50 }}"
             data-average-capacity-used="{{ 70 }}">
        </div>
      </td>
      <td>
        <a href="#" class="modal_chart">90/100</a>
      </td>
    </tr>
    <tr>
      <td class="capacity_label">{% trans "Network" %}:</td>
      <td>
        <div id="network_capacity_usage"
             class="capacity_bar"
             data-capacity-limit="{{ 100 }}"
             data-capacity-used="{{ 60 }}"
             data-average-capacity-used="{{ 70 }}">
        </div>
      </td>
      <td>
        <a href="#" class="modal_chart">90/100</a>
      </td>
    </tr>
  </table>
</div>

<div class="row-fluid">
  <div class="span6">
    <div class="span4">
      <h4>Top Communicating Racks</h4>
    </div>
    <div class="span3 circles_chart_time_picker">
      <select data-circles-chart-command="change_time"
              data-receiver="#most_contacting_racks, #most_contacted_racks">
        <option value="now">Now</option>
        <option value="yesterday">Yesterday</option>
        <option value="last_week">Last Week</option>
        <option value="last_month">Last Month</option>
      </select>
    </div>
    <div class="clear"></div>

    <div class="communication_charts_wrapper">
      <div class="communication_chart_wrapper">
        <h5>The most contacting</h5>
        <div id="most_contacting_racks"
             class="communication_chart"
             data-chart-type="circles_chart"
             data-url="/infrastructure/racks/1/top_communicating.json?cond=from"
             data-time="now"
             data-size="22">
        </div>
      </div>
      <div class="communication_chart_connection">-->BG-IMG--></div>
      <div class="communication_chart_wrapper">
        <h5>The most contacted</h5>
        <div id="most_contacted_racks"
             class="communication_chart"
             data-chart-type="circles_chart"
             data-url="/infrastructure/racks/1/top_communicating.json?cond=to"
             data-time="now"
             data-size="22">
        </div>
      </div>
    </div>
  </div>
  <div class="span6">
    <div class="span3">
      <h4>Host health</h4>
    </div>
    <div class="span3 circles_chart_time_picker">
      <select data-circles-chart-command="change_time"
              data-receiver="#rack_health_chart">
        <option value="now">Now</option>
        <option value="yesterday">Yesterday</option>
        <option value="last_week">Last Week</option>
        <option value="last_month">Last Month</option>
      </select>
    </div>
    <div class="clear"></div>

    <ul class="nav nav-tabs"
        data-circles-chart-command="change_url"
        data-receiver="#rack_health_chart">
      <li class="active">
        <a data-url="/infrastructure/racks/1/top_communicating.json?type=overall_health" href="#">
          Overall Health</a>
      </li>
      <li>
        <a data-url="/infrastructure/racks/1/top_communicating.json?type=alerts" href="#">
          Alerts</a>
      </li>
      <li>
        <a data-url="/infrastructure/racks/1/top_communicating.json?type=capacities" href="#">
          Capacities</a>
      </li>
      <li>
        <a data-url="/infrastructure/racks/1/top_communicating.json?type=status" href="#">
          Status</a>
      </li>
    </ul>
    <div id ="rack_health_chart"
         class="health_chart"
         data-chart-type="circles_chart"
         data-url="/infrastructure/racks/1/top_communicating.json?cond=health"
         data-time="now"
         data-size="40">
    </div>
  </div>
</div>

